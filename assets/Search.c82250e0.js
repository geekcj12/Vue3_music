var e=Object.defineProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,t=(a,s,r)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r,n=(e,n)=>{for(var l in n||(n={}))s.call(n,l)&&t(e,l,n[l]);if(a)for(var l of a(n))r.call(n,l)&&t(e,l,n[l]);return e};import{r as l,h as o,g as c,A as i,i as u,o as p,c as d,b as y,F as m,l as g,m as b}from"./vendor.76c7ad6e.js";import{s as f}from"./index.ae1c8811.js";const h={name:"Search",setup(){const e=i(),a=u();let s=l([]);o((()=>e.query),(async e=>{if(0===Object.keys(e).length)return;const a=await f.get("/search",{params:n({},e)});s.value=a.result.songs})),c((async()=>{const{query:a}=e,r=await f.get("/search",{params:n({},a)});s.value=r.result.songs}));return{songs:s,addSong:e=>{a.dispatch("player/addSong",e)}}}},v={class:"search"},j={class:"result-list"},O={class:"title"};h.render=function(e,a,s,r,t,n){return p(),d("div",v,[y("ul",j,[(p(!0),d(m,null,g(r.songs,(e=>(p(),d("li",{key:e.id,onClick:a=>r.addSong(e.id),class:"result-item"},[y("h4",O,b(e.name),1),(p(!0),d(m,null,g(e.artists,(e=>(p(),d("span",{key:e.id,class:"author"},b(e.name),1)))),128))],8,["onClick"])))),128))])])};export default h;
