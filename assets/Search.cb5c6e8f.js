var e=Object.defineProperty,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,t=(s,a,r)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,n=(e,n)=>{for(var l in n||(n={}))a.call(n,l)&&t(e,l,n[l]);if(s)for(var l of s(n))r.call(n,l)&&t(e,l,n[l]);return e};import{r as l,h as o,g as c,A as i,i as u,o as p,c as d,b as y,F as m,l as g,m as b}from"./vendor.95840c29.js";import{s as f}from"./index.ae571706.js";const h={name:"Search",setup(){const e=i(),s=u();let a=l([]);o((()=>e.query),(async e=>{if(0===Object.keys(e).length)return;const s=await f.get("/search",{params:n({},e)});a.value=s.result.songs})),c((async()=>{const{query:s}=e,r=await f.get("/search",{params:n({},s)});a.value=r.result.songs}));return{songs:a,addSong:e=>{s.dispatch("player/addSong",e)}}}},v={class:"search"},j={class:"result-list"},O={class:"title"};h.render=function(e,s,a,r,t,n){return p(),d("div",v,[y("ul",j,[(p(!0),d(m,null,g(r.songs,(e=>(p(),d("li",{key:e.id,onClick:s=>r.addSong(e.id),class:"result-item"},[y("h4",O,b(e.name),1),(p(!0),d(m,null,g(e.artists,(e=>(p(),d("span",{key:e.id,class:"author"},b(e.name),1)))),128))],8,["onClick"])))),128))])])};export default h;
